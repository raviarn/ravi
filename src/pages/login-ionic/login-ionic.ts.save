import { Component } from '@angular/core';
import { RegistrationPage } from '../registration/registration';
import { NavController } from 'ionic-angular';
import firebase from 'firebase';
import {
  IonicPage,
  Loading,
  LoadingController,
  NavController,
  AlertController,
} from 'ionic-angular';

import { FormBuilder, Validators, FormGroup } from '@angular/forms';
import { EmailValidator } from '../../validators/email';

@Component({
  selector: 'page-login-ionic',
  templateUrl: 'login-ionic.html'
})

export class LoginIonicPage {

  public loginForm: FormGroup;
  public loading: Loading;
  
constructor(
  public navCtrl: NavController,
  public loadingCtrl: LoadingController,
  public alertCtrl: AlertController,
  public authProvider: AuthProvider,
  public formBuilder: FormBuilder ) {

	this.loginForm = formBuilder.group({
           email: ['',
              Validators.compose([Validators.required, EmailValidator.isValid])],
      password: ['',
      Validators.compose([Validators.minLength(6), Validators.required])]
    });

  }

  loginUser(email: string, password: string): Promise<any> 
  {	
	return firebase.auth().signInWithEmailAndPassword(email, password);
  }

  goToRegister()
  {
	this.navCtrl.push(RegistrationPage);
  }  

}

